<div class="window" style="width: 100%;">
  <div class="blck">
    {{pluginManager}}
    <button type="button" class="btn btn-primary btn-sm" onclick="loadPage('plugins')">{{installNew}}</button>
  </div>
  <div class="blck" style="height: 512px; overflow: auto;">
    <table class="ttt2"></table>
  </div>
</div>

<script>
  $(document).ready(function () {
    $(".loadBg").show();
    $.get("/plugins/installed?server=" + currentServer, function (plugins) {
      plugins.forEach(function (plugin) {
        $(".blck .ttt2").append('<tr><td><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/a/ae/Icon-txt.svg" width=32></td><td>' + plugin + '</td><td><button class="btn btn-light" style="color: black;" onclick="deletePlugin(' + "'" + plugin + "'" + ')" data-toggle="tooltip" data-placement="top" title="Delete file"><span class="material-icons material-icons-outlined">delete</i></button></td></tr>');
      });
      $(".loadBg").hide();
    });
    if ($(".g-srvstatus .srvStatus").html() == "{{online}}") {
      updateQuery();
    } else {
      $(".g-srvcore .srvcore").html("{{unknown}}");
      $(".g-srvplayers .srvplayerscount").html("{{unknown}}");
    }

    di2 = setInterval(function () {
      updateServersStatus();
    }, 500);

    di = setInterval(function () {
      if ($(".g-srvstatus .srvStatus").html() == "{{online}}") {
        updateQuery();
      } else {
        $(".g-srvcore .srvcore").html("{{unknown}}");
        $(".g-srvplayers .srvplayerscount").html("{{unknown}}");
      }
    }, 800);
  });

  function deletePlugin(plugin) {
    $.get("/plugins/delete?file=" + plugin + "&server=" + currentServer, function (data) {
      loadPage("plmanager");
    });
  }
</script>

<style>
  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  td,
  th {
    border-bottom: 1px solid rgb(140, 140, 140);
    text-align: left;
    padding: 12px;
  }

  td:first-child {
    width: 1%;
    white-space: nowrap;
  }

  td:last-child {
    text-align: right;
  }
</style>