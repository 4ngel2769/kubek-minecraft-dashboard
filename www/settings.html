<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Kubek - Minecraft Servers</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <script src="js/jquery-3.6.0.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="css/animate.min.css" />
  <script src="js/shards.min.js"></script>
  <link rel="stylesheet" type="text/css" href="css/toastify.min.css">
  <script type="text/javascript" src="js/toastify-js.js"></script>
  <script src="js/app.js"></script>
  <link rel="stylesheet" href="css/shards.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <script src="js/sweetalert2.all.min.js"></script>
  <script src="js/progressbar.min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="mainLayout">
    <div class="menu">
      <div class="fc">
        <img src="assets/logo.svg" width="200px">
        <center>
          <p style="margin-top: 4px; width: max-content; height: min-content;" class="kubekVersion"></p>
        </center>

        <ul class="nav flex-column nav-pills nav-justified">
          <li class="nav-item">
            <a class="nav-link" href="/">{{servers}}</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="/settings.html">{{settings}}</a>
          </li>
        </ul>
      </div>

      <div class="fc">
        
      </div>
    </div>
    <div class="layout" style="padding: 16px;">
      <p style="font-size: 28pt; font-weight: 700;">{{settings}}</p>
      <div class="setflex-c">
        <div class="setflex-b">
          {{softLang}}
        </div>
        <div class="setflex-b">
          <div class="custom-controls-stacked">
            <div class="custom-control custom-radio mb-3">
              <input type="radio" id="russianRadio" name="customRadio" data-lang="ru" class="custom-control-input">
              <label class="custom-control-label" for="russianRadio">Русский</label>
            </div>
            <div class="custom-control custom-radio mb-3">
              <input type="radio" id="englishRadio" name="customRadio" data-lang="en" class="custom-control-input">
              <label class="custom-control-label" for="englishRadio">English</label>
            </div>
          </div>
        </div>
      </div>
      <br><br><button class="btn btn-primary saveBtn">{{ok}}</button>
    </div>
  </div>
</body>

<script>
var kubekCfg;
$(".kubekVersion").load("/kubek/version");

$(document).ready(function(){
  $.get("/kubek/config", function(data) {
    kubekCfg = JSON.parse(data);
    if(kubekCfg['lang'] == "en"){
      $("#englishRadio").attr("checked", true);
    } else if(kubekCfg['lang'] == "ru"){
      $("#russianRadio").attr("checked", true);
    }
  });
});

$(".saveBtn").click(function(){
  checked = $("input:checked").data("lang");
  kubekCfg["lang"] = checked;
  $.get("/kubek/saveConfig?data=" + encodeURI(JSON.stringify(kubekCfg)), function(data) {
    location.reload();
  });
});
</script>

<style>
  .setflex-c {
    display: flex;
    align-items: center;
    height: max-content;
  }

  .setflex-b {
    margin: 5px;
    padding: 5px;
    flex: 1 1 auto;
  }

  input {
    background: rgb(43, 53, 63) !important;
    border: none !important;
    outline: none !important;
    color: white !important;
  }
</style>